<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>20k</title>
        <script src="/socket.io/socket.io.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                let socket = io();
                let cost = {};
                let total = document.getElementById('total');

                document.getElementById("vigilante").addEventListener("click", () => socket.emit('destroy', 'vigilante'));
                document.getElementById("khanjali").addEventListener("click", () => socket.emit('destroy', 'khanjali'));
                document.getElementById("tampa").addEventListener("click", () => socket.emit('destroy', 'tampa'));
                document.getElementById("apc").addEventListener("click", () => socket.emit('destroy', 'apc'));


                socket.on('update', updatedCost => {
                    cost = updatedCost;
                    total.innerText = `Vigilante:\t${cost.vigilante}k\nKhanjali:\t${cost.khanjali}k\nTampa:\t${cost.tampa}k\nAPC:\t${cost.apc}k`;
                });
            });
        </script>
    </head>
    <body>
        <h1>What did you break?</h1>
        <button type="button" id="vigilante">Vigilante</button>
        <button type="button" id="khanjali">Khanjali</button>
        <button type="button" id="tampa">Tampa</button>
        <button type="button" id="apc">APC</button>
        <h2 id="total"></h2>
    </body>
</html>
